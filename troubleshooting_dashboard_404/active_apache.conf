<IfModule mod_ssl.c>
<VirtualHost *:443>
    ServerName api.fundacionidear.com

    ProxyPreserveHost On
    ProxyRequests Off

    # Explicitly proxy /dashboard to the Flask app
    ProxyPass /dashboard http://127.0.0.1:5000/dashboard
    ProxyPassReverse /dashboard http://127.0.0.1:5000/dashboard

    # Proxy all other requests to the Flask app
    ProxyPass / http://127.0.0.1:5000/
    ProxyPassReverse / http://127.0.0.1:5000/

    ErrorLog /api-fundacion-error.log
    CustomLog /api-fundacion-access.log combined

SSLCertificateFile /etc/letsencrypt/live/api.fundacionidear.com/fullchain.pem
SSLCertificateKeyFile /etc/letsencrypt/live/api.fundacionidear.com/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
</VirtualHost>
</IfModule>
