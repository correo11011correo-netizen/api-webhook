<IfModule mod_ssl.c>
<VirtualHost *:443>
    ServerName api.fundacionidear.com

    # Header de prueba
    Header always set X-Apache-Config "active-ssl-conf"

    SSLEngine On
    SSLCertificateFile /etc/letsencrypt/live/api.fundacionidear.com/fullchain.pem
    SSLCertificateKeyFile /etc/letsencrypt/live/api.fundacionidear.com/privkey.pem
    Include /etc/letsencrypt/options-ssl-apache.conf

    RewriteEngine On
    ProxyRequests Off
    ProxyPreserveHost On
    RewriteRule ^/(.*)$ http://127.0.0.1:5000/$1 [P,L]
    ProxyPassReverse / http://127.0.0.1:5000/

    ErrorLog ${APACHE_LOG_DIR}/api-fundacion-error.log
    CustomLog ${APACHE_LOG_DIR}/api-fundacion-access.log combined
</VirtualHost>
</IfModule>